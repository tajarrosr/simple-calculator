<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Modern Calculator</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Arial", sans-serif;
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
      }

      .calculator {
        width: 100%;
        max-width: 350px;
        background: #333;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      }

      .display {
        width: 100%;
        padding: 15px;
        font-size: 2rem;
        text-align: right;
        background: #222;
        color: #fff;
        border-radius: 8px;
        margin-bottom: 20px;
        overflow-x: auto;
      }

      .buttons {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
      }

      button {
        width: 100%;
        padding: 15px;
        font-size: 1.2rem;
        border: none;
        border-radius: 8px;
        background: #444;
        color: white;
        cursor: pointer;
        transition: 0.3s;
      }

      button:hover {
        background: #555;
      }

      button:active {
        transform: scale(0.95);
      }

      .operator {
        background: #f39c12;
      }

      .operator:hover {
        background: #e67e22;
      }

      .equal {
        background: #2ecc71;
      }

      .equal:hover {
        background: #27ae60;
      }

      .clear {
        background: #e74c3c;
      }

      .clear:hover {
        background: #c0392b;
      }
    </style>
  </head>
  <body>
    <div class="calculator">
      <div class="display js-calculation">0</div>
      <div class="buttons">
        <button onclick="updateCalculation('7')">7</button>
        <button onclick="updateCalculation('8')">8</button>
        <button onclick="updateCalculation('9')">9</button>
        <button class="operator" data-value=" / ">÷</button>

        <button onclick="updateCalculation('4')">4</button>
        <button onclick="updateCalculation('5')">5</button>
        <button onclick="updateCalculation('6')">6</button>
        <button class="operator" data-value=" * ">×</button>

        <button onclick="updateCalculation('1')">1</button>
        <button onclick="updateCalculation('2')">2</button>
        <button onclick="updateCalculation('3')">3</button>
        <button class="operator" data-value=" - ">−</button>

        <button onclick="updateCalculation('0')">0</button>
        <button onclick="updateCalculation('.')">.</button>
        <button class="equal" onclick="calculateResult()">=</button>
        <button class="operator" data-value=" + ">+</button>

        <button class="clear">C</button>
      </div>
    </div>

    <script>
      let calculation = localStorage.getItem("calculation") || "";

      const display = document.querySelector(".js-calculation");
      const buttons = document.querySelectorAll(".buttons button");

      const displayCalculation = () => {
        display.textContent = calculation || "0";
      };

      const updateCalculation = (value) => {
        calculation += value;
        displayCalculation();
        localStorage.setItem("calculation", calculation);
      };

      const calculateResult = () => {
        try {
          calculation = eval(calculation);
          displayCalculation();
          localStorage.setItem("calculation", calculation);
        } catch (error) {
          alert("Invalid Expression");
        }
      };

      const clearCalculation = () => {
        calculation = "";
        displayCalculation();
        localStorage.setItem("calculation", calculation);
      };

      buttons.forEach((button) => {
        if (button.dataset.value) {
          button.addEventListener("click", () =>
            updateCalculation(button.dataset.value)
          );
        } else if (button.classList.contains("equal")) {
          button.addEventListener("click", calculateResult);
        } else if (button.classList.contains("clear")) {
          button.addEventListener("click", clearCalculation);
        }
      });

      displayCalculation();
    </script>
  </body>
</html>
